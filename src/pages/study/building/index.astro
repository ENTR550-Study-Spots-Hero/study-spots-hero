---
// Page containing links to each of the building/[building name] pages

import { type CollectionEntry, getCollection } from "astro:content";
import BaseLayout from "../../../components/BaseLayout.astro";
import GeneralArticle from "../../../layouts/GeneralArticle.astro";
// filterFunc is a function that takes a StudySpot and returns a boolean
const spots = await getCollection("studySpotCollection");
const buildings = new Set(spots.map((spot) => spot.data.building));
const filterFunc = (spot) => spot.data.building === Astro.params.building;
---

<BaseLayout>
    <main>
        <ul>
            {
                // jsx: generate a link for each building
                Array.from(buildings).map((building) => (
                    <li>
                        <a href={`/study/building/${building}`}>{building}</a>
                    </li>
                ))
            }
        </ul>
    </main>
</BaseLayout>
